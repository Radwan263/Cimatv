
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Radwan Player</title>
        <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
            body { background-color: #000; color: white; font-family: 'Cairo', sans-serif; margin: 0; padding: 20px; }
            .screen { display: none; }
            .active { display: block; animation: fadeIn 0.4s; }
            @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

            .card { background: #1a1a1a; padding: 20px; margin-bottom: 10px; border-radius: 10px; border: 1px solid #333; cursor: pointer; }
            .card:hover { border-color: #e50914; background: #222; }
            h2 { color: #e50914; border-bottom: 1px solid #333; padding-bottom: 10px; }

            /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬ÙˆØ¯Ø© */
            .btn { display: block; width: 100%; padding: 15px; margin: 10px 0; border-radius: 8px; border:none; color: white; font-weight: bold; font-size: 16px; cursor: pointer; }
            .q-720 { background: #27ae60; } 
            .q-480 { background: #d35400; }
            .back-btn { background: #333; color: white; padding: 8px 20px; border-radius: 20px; border: none; cursor: pointer; margin-bottom: 20px; }

            /* ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…Ø´ØºÙ„ */
            #player-container {
                width: 100%;
                max-width: 800px;
                margin: 0 auto;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 0 20px rgba(229, 9, 20, 0.3);
            }
            
            .plyr {
                --plyr-color-main: #e50914; /* Ù„ÙˆÙ† Ø§Ù„Ù…Ø´ØºÙ„ Ø£Ø­Ù…Ø± Ø²ÙŠ Ù†ØªÙÙ„ÙŠÙƒØ³ */
            }
        </style>
    </head>
    <body>

        <div id="screen-series" class="screen active">
            <h2>ğŸ¿ Ø§Ø®ØªØ± Ø§Ù„Ù…Ø³Ù„Ø³Ù„</h2>
            <div id="list-series"></div>
        </div>

        <div id="screen-episodes" class="screen">
            <button class="back-btn" onclick="show('screen-series')">ğŸ”™ Ø®Ø±ÙˆØ¬</button>
            <h2 id="title-series"></h2>
            <div id="list-episodes"></div>
        </div>

        <div id="screen-quality" class="screen">
            <button class="back-btn" onclick="show('screen-episodes')">ğŸ”™ Ø§Ù„Ø­Ù„Ù‚Ø§Øª</button>
            <h2 id="title-episode"></h2>
            <div id="list-quality"></div>
        </div>

        <div id="screen-player" class="screen" style="text-align:center;">
            <button class="back-btn" onclick="stopAndBack()">ğŸ”™ Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…Ø´ØºÙ„</button>
            <h3 id="playing-now" style="color:#aaa; font-size:14px;"></h3>
            
            <div id="player-container">
                <video id="player" playsinline controls>
                    <source id="video-source" src="" type="video/mp4" />
                </video>
            </div>
            <p style="color:#777; font-size:12px; margin-top:10px;">âš ï¸ Ù„Ùˆ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ù…Ø´ØªØºÙ„Ø´ØŒ Ø¯Ù‡ Ø¨Ø³Ø¨Ø¨ Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù…ØµØ¯Ø±. Ø¬Ø±Ø¨ Ø§Ù„Ø¬ÙˆØ¯Ø© Ø§Ù„ØªØ§Ù†ÙŠØ©.</p>
        </div>

        <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
        <script>
            const data = [{"title": "2 \u0642\u0647\u0648\u0629", "episodes": []}, {"title": "\u0644\u0627 \u062a\u0631\u062f \u0648\u0644\u0627 \u062a\u0633\u062a\u0628\u062f\u0644", "episodes": []}, {"title": "\u0645\u064a\u062f \u062a\u064a\u0631\u0645", "episodes": []}];
            let currentSeries = null;
            let player;

            // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø´ØºÙ„ Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
            document.addEventListener('DOMContentLoaded', () => {
                player = new Plyr('#player');
            });

            function show(id) {
                document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
                document.getElementById(id).classList.add('active');
            }

            // 1. Ø§Ù„Ù…Ø³Ù„Ø³Ù„Ø§Øª
            const listS = document.getElementById('list-series');
            data.forEach((item, idx) => {
                let div = document.createElement('div');
                div.className = 'card';
                div.innerHTML = `<h3>${item.title}</h3>`;
                div.onclick = () => loadEps(idx);
                listS.appendChild(div);
            });

            // 2. Ø§Ù„Ø­Ù„Ù‚Ø§Øª
            function loadEps(idx) {
                currentSeries = data[idx];
                document.getElementById('title-series').innerText = currentSeries.title;
                const listE = document.getElementById('list-episodes');
                listE.innerHTML = '';
                currentSeries.episodes.forEach((ep, eIdx) => {
                    let div = document.createElement('div');
                    div.className = 'card';
                    div.innerHTML = `<span>${ep.name}</span>`;
                    div.onclick = () => loadQualities(eIdx);
                    listE.appendChild(div);
                });
                show('screen-episodes');
            }

            // 3. Ø§Ù„Ø¬ÙˆØ¯Ø©
            function loadQualities(eIdx) {
                const ep = currentSeries.episodes[eIdx];
                document.getElementById('title-episode').innerText = ep.name;
                const listQ = document.getElementById('list-quality');
                listQ.innerHTML = '';

                if (ep.links["720p"]) {
                    let btn = document.createElement('button');
                    btn.className = 'btn q-720';
                    btn.innerText = "ØªØ´ØºÙŠÙ„ Ø¬ÙˆØ¯Ø© 720p HD";
                    btn.onclick = () => playVideo(ep.links["720p"], ep.name);
                    listQ.appendChild(btn);
                }

                if (ep.links["480p"]) {
                    let btn = document.createElement('button');
                    btn.className = 'btn q-480';
                    btn.innerText = "ØªØ´ØºÙŠÙ„ Ø¬ÙˆØ¯Ø© 480p SD";
                    btn.onclick = () => playVideo(ep.links["480p"], ep.name);
                    listQ.appendChild(btn);
                }
                
                show('screen-quality');
            }

            // 4. ØªØ´ØºÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ ÙÙŠ Ø§Ù„Ù…Ø´ØºÙ„ Ø§Ù„Ø®Ø§Øµ
            function playVideo(link, title) {
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ØµØ¯Ø±
                const video = document.getElementById('player');
                const source = document.getElementById('video-source');
                
                document.getElementById('playing-now').innerText = "Ø¬Ø§Ø±ÙŠ ØªØ´ØºÙŠÙ„: " + title;
                
                source.src = link;
                video.load(); // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙÙŠØ¯ÙŠÙˆ Ø¨Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø¬Ø¯ÙŠØ¯
                
                show('screen-player');
                player.play(); // ØªØ´ØºÙŠÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠ
            }

            function stopAndBack() {
                player.stop(); // ÙˆÙ‚Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ
                show('screen-quality'); // Ø§Ø±Ø¬Ø¹ Ù„Ù„Ù‚Ø§Ø¦Ù…Ø©
            }
        </script>
    </body>
    </html>
    