
    <!DOCTYPE html>
    <html lang="ar" dir="rtl">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Radwan App</title>
        <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
            body { background-color: #f0f0f0; color: #333; font-family: 'Cairo', sans-serif; margin: 0; padding: 0; }
            header { background: #b71c1c; color: white; padding: 15px; text-align: center; position: sticky; top:0; z-index:100; box-shadow: 0 2px 5px rgba(0,0,0,0.2); display: flex; align-items: center; justify-content: space-between; }
            header h1 { margin: 0; font-size: 18px; flex-grow: 1; }
            .back-icon { font-size: 20px; cursor: pointer; visibility: hidden; }
            .screen { display: none; padding: 10px; }
            .active { display: block; animation: fadeIn 0.3s; }
            @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
            .grid-series { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; }
            .card-series { background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 5px rgba(0,0,0,0.1); cursor: pointer; }
            .card-series img { width: 100%; aspect-ratio: 2/3; object-fit: cover; }
            .card-series h3 { text-align: center; font-size: 14px; margin: 8px 0; color: #b71c1c; }
            .grid-episodes { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
            .card-episode { background: white; border: 2px solid #b71c1c; border-radius: 8px; padding: 10px; text-align: center; cursor: pointer; }
            .card-episode span { display: block; font-weight: bold; font-size: 14px; color: #b71c1c; }
            .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.7); display: none; align-items: center; justify-content: center; z-index: 1000; }
            .modal-content { background: white; width: 80%; max-width: 300px; border-radius: 15px; padding: 20px; text-align: center; position: relative; }
            .modal-close { position: absolute; top: 10px; left: 10px; color: #aaa; font-size: 20px; cursor: pointer; }
            .modal-btn { display: block; width: 100%; padding: 12px; margin: 10px 0; border-radius: 25px; border: 1px solid #b71c1c; background: white; color: #b71c1c; font-weight: bold; cursor: pointer; font-size: 16px; display: flex; align-items: center; justify-content: center; gap: 10px; }
            .modal-btn:hover { background: #b71c1c; color: white; }
            .player-overlay { position: fixed; top:0; left:0; width:100%; height:100%; background:black; z-index:2000; display:none; flex-direction:column; justify-content:center; }
            .close-player { position: absolute; top: 20px; right: 20px; color: white; font-size: 30px; cursor: pointer; z-index: 2001; }
        </style>
    </head>
    <body>
        <header>
            <i class="fas fa-arrow-right back-icon" id="back-btn" onclick="goBack()"></i>
            <h1 id="header-title">المسلسلات العربية</h1>
            <i class="fas fa-bars"></i>
        </header>
        <div id="screen-series" class="screen active"><div class="grid-series" id="list-series"></div></div>
        <div id="screen-episodes" class="screen"><div class="grid-episodes" id="list-episodes"></div></div>
        <div class="modal-overlay" id="modal">
            <div class="modal-content">
                <i class="fas fa-times modal-close" onclick="closeModal()"></i>
                <h3 id="modal-title" style="color:#b71c1c; margin-bottom:20px;">اختر الإجراء</h3>
                <button class="modal-btn" onclick="showQuality('watch')"><i class="fas fa-eye"></i> مشاهدة</button>
                <button class="modal-btn" onclick="showQuality('dl')"><i class="fas fa-download"></i> تحميل</button>
                <div id="quality-options" style="display:none; margin-top:15px; border-top:1px solid #eee; padding-top:10px;"><div id="q-buttons"></div></div>
            </div>
        </div>
        <div class="player-overlay" id="player-screen">
            <i class="fas fa-times close-player" onclick="closePlayer()"></i>
            <video id="player" playsinline controls><source id="video-source" src="" type="video/mp4" /></video>
        </div>
        <script src="https://cdn.plyr.io/3.7.8/plyr.js"></script>
        <script>
            const data = [{"title": "2 \u0642\u0647\u0648\u0629", "poster": "https://via.placeholder.com/300x450", "episodes": []}, {"title": "\u0644\u0627 \u062a\u0631\u062f \u0648\u0644\u0627 \u062a\u0633\u062a\u0628\u062f\u0644", "poster": "https://a.asd.homes/wp-content/uploads/2022/09/logo333.webp", "episodes": []}, {"title": "\u0645\u064a\u062f \u062a\u064a\u0631\u0645", "poster": "https://a.asd.homes/wp-content/uploads/2022/09/logo333.webp", "episodes": []}];
            let currentSeries = null;
            let currentEp = null;
            let historyStack = ['screen-series'];
            const player = new Plyr('#player');

            function navigate(toScreen, title, showBack=true) {
                document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
                document.getElementById(toScreen).classList.add('active');
                document.getElementById('header-title').innerText = title;
                document.getElementById('back-btn').style.visibility = showBack ? 'visible' : 'hidden';
                if(toScreen !== historyStack[historyStack.length-1]) { historyStack.push(toScreen); }
            }
            function goBack() {
                if(historyStack.length > 1) {
                    historyStack.pop();
                    const prev = historyStack[historyStack.length-1];
                    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
                    document.getElementById(prev).classList.add('active');
                    if(prev === 'screen-series') {
                        document.getElementById('header-title').innerText = "المسلسلات العربية";
                        document.getElementById('back-btn').style.visibility = 'hidden';
                    } else {
                        document.getElementById('header-title').innerText = currentSeries.title;
                        document.getElementById('back-btn').style.visibility = 'visible';
                    }
                }
            }
            const sList = document.getElementById('list-series');
            data.forEach((item, idx) => {
                let div = document.createElement('div');
                div.className = 'card-series';
                div.innerHTML = `<img src="${item.poster}"><h3>${item.title}</h3>`;
                div.onclick = () => loadEps(idx);
                sList.appendChild(div);
            });
            function loadEps(idx) {
                currentSeries = data[idx];
                const eList = document.getElementById('list-episodes');
                eList.innerHTML = '';
                currentSeries.episodes.forEach((ep, eIdx) => {
                    let div = document.createElement('div');
                    div.className = 'card-episode';
                    div.innerHTML = `<span>${ep.name}</span>`;
                    div.onclick = () => openModal(eIdx);
                    eList.appendChild(div);
                });
                navigate('screen-episodes', currentSeries.title);
            }
            function openModal(eIdx) {
                currentEp = currentSeries.episodes[eIdx];
                document.getElementById('modal-title').innerText = currentEp.name;
                document.getElementById('modal').style.display = 'flex';
                document.getElementById('quality-options').style.display = 'none';
            }
            function closeModal() { document.getElementById('modal').style.display = 'none'; }
            function showQuality(type) {
                const qDiv = document.getElementById('quality-options');
                const qBtns = document.getElementById('q-buttons');
                qDiv.style.display = 'block';
                qBtns.innerHTML = '';
                const links = currentEp.links;
                const qualities = Object.keys(links);
                if(qualities.length === 0) { qBtns.innerHTML = '<span style="color:red">لا توجد روابط</span>'; return; }
                qualities.forEach(q => {
                    let btn = document.createElement('button');
                    btn.className = 'modal-btn';
                    btn.innerText = q;
                    btn.style.background = '#eee'; btn.style.border = 'none';
                    if(type === 'watch') { btn.onclick = () => playVideo(links[q]); } 
                    else { btn.onclick = () => window.open(links[q], '_blank'); }
                    qBtns.appendChild(btn);
                });
            }
            function playVideo(link) {
                closeModal();
                document.getElementById('player-screen').style.display = 'flex';
                document.getElementById('video-source').src = link;
                document.getElementById('player').load();
                player.play();
            }
            function closePlayer() {
                player.stop();
                document.getElementById('player-screen').style.display = 'none';
            }
        </script>
    </body>
    </html>
    